"use strict";(self.webpackChunkbluedot_docs=self.webpackChunkbluedot_docs||[]).push([[1566],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>c});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},u=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},d="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},k=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=p(a),k=r,c=d["".concat(s,".").concat(k)]||d[k]||h[k]||o;return a?n.createElement(c,i(i({ref:t},u),{},{components:a})):n.createElement(c,i({ref:t},u))}));function c(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=k;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[d]="string"==typeof e?e:r,i[1]=l;for(var p=2;p<o;p++)i[p]=a[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}k.displayName="MDXCreateElement"},94637:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>l,toc:()=>p});var n=a(87462),r=(a(67294),a(3905));const o={pagination_next:"Webhooks/Geo-triggering",pagination_prev:null},i="Overview",l={unversionedId:"Webhooks/Overview",id:"Webhooks/Overview",title:"Overview",description:"Register Webhooks to receive real-time notifications from your app user's activity. Webhooks can be used to send events for:",source:"@site/docs/Webhooks/Overview.md",sourceDirName:"Webhooks",slug:"/Webhooks/Overview",permalink:"/Webhooks/Overview",draft:!1,tags:[],version:"current",frontMatter:{pagination_next:"Webhooks/Geo-triggering",pagination_prev:null},sidebar:"defaultSidebar",next:{title:"Geo-Triggering webhook",permalink:"/Webhooks/Geo-triggering"}},s={},p=[{value:"Configure a Webhook",id:"configure-a-webhook",level:2},{value:"Webhook Event Headers",id:"webhook-event-headers",level:2},{value:"Example HTTP header in the request",id:"example-http-header-in-the-request",level:3},{value:"Example Dynamic headers in the request",id:"example-dynamic-headers-in-the-request",level:3},{value:"Security: Safelisting IPs",id:"security-safelisting-ips",level:2},{value:"Webhook payload structure",id:"webhook-payload-structure",level:2}],u={toc:p},d="wrapper";function h(e){let{components:t,...o}=e;return(0,r.kt)(d,(0,n.Z)({},u,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"overview"},"Overview"),(0,r.kt)("p",null,"Register Webhooks to receive real-time notifications from your app user's activity. Webhooks can be used to send events for:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Geo-trigger:")," Entry and/or exit into a Zone/Geofence"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Tempo:")," ETA calculations as a user moves towards a Zone"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Wave:")," API events when a user notifies of their arrival"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Hello Orders:")," events when the state of an order has been updated in Hello Screens")),(0,r.kt)("p",null,"Please also note that:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Multiple Webhooks can be added to the project"),(0,r.kt)("li",{parentName:"ul"},"Webhooks structure can be standard hierarchical or flat"),(0,r.kt)("li",{parentName:"ul"},"Header fields can be set dynamically")),(0,r.kt)("h2",{id:"configure-a-webhook"},"Configure a Webhook"),(0,r.kt)("p",null,"There are two ways to configure a Webhook:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Through the Canvas UI"),(0,r.kt)("li",{parentName:"ul"},"Using Config API (Learn more ",(0,r.kt)("a",{parentName:"li",href:"https://config-docs.bluedot.io/#operation/addProject"},"here"),".)")),(0,r.kt)("p",null,"Webhooks are configured at the Project level with a maximum of one webhook for each Event type."),(0,r.kt)("p",null,"To set up ",(0,r.kt)("strong",{parentName:"p"},"Webhooks"),", login to Canvas and head to the ",(0,r.kt)("strong",{parentName:"p"},"Integrations")," section",(0,r.kt)("strong",{parentName:"p"},".")),(0,r.kt)("p",null,(0,r.kt)("img",{src:a(98935).Z,width:"1600",height:"739"})),(0,r.kt)("p",null,"1","."," In the Integrations section, choose a Project where you would like to add a Webhook and click on the Add button"),(0,r.kt)("p",null,(0,r.kt)("img",{src:a(54269).Z,width:"1600",height:"815"})),(0,r.kt)("p",null,"2","."," In the list of the Integrations search for the Webhooks tab and click on adding a new Webhook"),(0,r.kt)("p",null,(0,r.kt)("img",{src:a(15406).Z,width:"1600",height:"794"})),(0,r.kt)("p",null,"3","."," Configure Event Type, Event Version, URL, Header and Body fields"),(0,r.kt)("p",null,(0,r.kt)("img",{src:a(96811).Z,width:"2016",height:"1284"})),(0,r.kt)("p",null,"4","."," Webhook Payload Versions: we support multiple ",(0,r.kt)("strong",{parentName:"p"},"payload versions"),", allowing you to choose the structure that works best for your integration. We recommend selecting the ",(0,r.kt)("strong",{parentName:"p"},"most recent version")," to access the latest features and data fields. Older versions are still available to ensure we don't break existing implementations for customers already using webhooks.  "),(0,r.kt)("p",null,"5","."," Header Fields for the standard Webhooks can be set dynamically by adding the {} in the value field. By the way, the value itself can be set and injected from the additional event-specific ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/Custom%20Data"},"Custom Event Meta Data"))," fields. The Dynamic Webhook Headers feature will pick up that value and attach it to the Webhook outputs."),(0,r.kt)("p",null,(0,r.kt)("img",{src:a(73526).Z,width:"2008",height:"1402"})),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Property"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Event"),(0,r.kt)("td",{parentName:"tr",align:null},"Choose Event Type: - Geo-triggering - Wave - Tempo - Hello Order")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"URL"),(0,r.kt)("td",{parentName:"tr",align:null},"The URL of the server where the webhooks will be received. We suggest that the service has SSL enabled.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Header fields (optional)"),(0,r.kt)("td",{parentName:"tr",align:null},"Custom headers are sent along with the webhook request. Keys must not contain spaces.  The dynamic headers (available only for standard webhooks) will require a fixed property key; only the value can be programmatically set. By adding dynamic headers to the Webhook, you're setting up a pattern that will be picked up and populated from the webhook request body . It can be any property name that is present in the webhook request body. For example, to set a custom value included in the event, you can use ",(0,r.kt)("inlineCode",{parentName:"td"},"eventMetaData.key_name")," for a Geo-trigger event or ",(0,r.kt)("inlineCode",{parentName:"td"},"customEventMetaData.key_name")," for a Tempo or Wave event")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Body fields (optional)"),(0,r.kt)("td",{parentName:"tr",align:null},"Custom fields and values which will be added to the body of the webhook when sent. Keys must not contain spaces")))),(0,r.kt)("p",null,"5","."," After finalizing your webhook configuration, click ",(0,r.kt)("em",{parentName:"p"},"'Add'")," to save and activate the webhook."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"Webhooks Retry Mechanism"),":\nThe Webhooks Retry Mechanism is an optional feature that resends failed webhook events automatically. Learn how to enable and use this feature ",(0,r.kt)("a",{parentName:"p",href:"/Webhooks/Webhooks%20retry"},"here"),".")),(0,r.kt)("h1",{id:"receiving-a-webhook-notification"},"Receiving a Webhook notification"),(0,r.kt)("p",null,"To receive a webhook, you would need a server, cloud function or any HTTP endpoint that can accept and process ",(0,r.kt)("inlineCode",{parentName:"p"},"POST")," requests."),(0,r.kt)("h2",{id:"webhook-event-headers"},"Webhook Event Headers"),(0,r.kt)("p",null,"You can make use of the ",(0,r.kt)("strong",{parentName:"p"},"Token Key")," and ",(0,r.kt)("strong",{parentName:"p"},"Token Value")," to add your own signature to the Webhook event. The Token Key and Token Value will be included in the Header of the HTTP request. "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'"tokenKey": "tokenValue"\n')),(0,r.kt)("p",null,"We encourage you to make use of these Key/Value tokens to sign the events with our own values to verify the origin of the events."),(0,r.kt)("h3",{id:"example-http-header-in-the-request"},"Example HTTP header in the request"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "securitytoken": "72340732BlueDOT7297329-T0",\n    "contenttype": "application/json"\n}\n')),(0,r.kt)("h3",{id:"example-dynamic-headers-in-the-request"},"Example Dynamic headers in the request"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "authentication_token": "Bearer {eventMetaData.auth_key}",\n    "user_id": "{installRef}",\n    "HeaderKey3": "HeaderValue3"\n}\n')),(0,r.kt)("h2",{id:"security-safelisting-ips"},"Security: Safelisting IPs"),(0,r.kt)("p",null,"In an effort to enhance security, it's essential to know the source of the events you're receiving. This is where IP safelisting comes into play. For Rezolve events, they will come from a specific set of IP addresses. You can safelist these IPs in your webhook receiver services to ensure that you're only receiving events from a secure source."),(0,r.kt)("p",null,"Here are the lists of IPs where the Rezolve events will come from, categorized by account region:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Region")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"IP Address")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"APAC"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"34.87.240.222"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Europe"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"34.79.240.229"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"North America"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"35.229.85.242"))))),(0,r.kt)("h2",{id:"webhook-payload-structure"},"Webhook payload structure"),(0,r.kt)("p",null,"Explore these links for detailed examples and explanations of the JSON structures used in our webhook events."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/Webhooks/Geo-triggering"},"Geo-trigger")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/Webhooks/Tempo"},"Tempo")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/Webhooks/Wave"},"Wave")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/Webhooks/Hello%20order"},"Hello Order"))))}h.isMDXComponent=!0},98935:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/webhooks-overview-1-83a96e6afb43286d80d96df6929a8eb8.png"},54269:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/webhooks-overview-2-a428a2f1351e7bdfbed95bd446e6edaf.png"},15406:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/webhooks-overview-3-162421e2dbc776fbb44f3aad675bf4ba.png"},96811:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/webhooks-overview-4-ba85fdf23059f8f46df4606163bd49df.png"},73526:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/webhooks-overview-5-bab6b0a99c25e4e771e1eed7655bdd29.png"}}]);