"use strict";(self.webpackChunkbluedot_docs=self.webpackChunkbluedot_docs||[]).push([[2749],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var a=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=a.createContext({}),d=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},c=function(e){var t=d(e.components);return a.createElement(s.Provider,{value:t},e.children)},u="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},g=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=d(n),g=o,h=u["".concat(s,".").concat(g)]||u[g]||p[g]||i;return n?a.createElement(h,r(r({ref:t},c),{},{components:n})):a.createElement(h,r({ref:t},c))}));function h(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,r=new Array(i);r[0]=g;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:o,r[1]=l;for(var d=2;d<i;d++)r[d]=n[d];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}g.displayName="MDXCreateElement"},78664:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>p,frontMatter:()=>i,metadata:()=>l,toc:()=>d});var a=n(87462),o=(n(67294),n(3905));const i={},r="Features",l={unversionedId:"Point SDK/Flutter/Features",id:"Point SDK/Flutter/Features",title:"Features",description:"*   Custom Event Metadata",source:"@site/docs/Point SDK/Flutter/Features.md",sourceDirName:"Point SDK/Flutter",slug:"/Point SDK/Flutter/Features",permalink:"/Point SDK/Flutter/Features",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"defaultSidebar",previous:{title:"Tempo",permalink:"/Point SDK/Flutter/Tempo"},next:{title:"Events List",permalink:"/Point SDK/Flutter/Events List"}},s={},d=[{value:"Custom Event Metadata",id:"custom-event-metadata",level:2},{value:"Enable / Disable Zones",id:"enable--disable-zones",level:2},{value:"Android Features",id:"android-features",level:2},{value:"Foreground Notification",id:"foreground-notification",level:3},{value:"iOS Features",id:"ios-features",level:2},{value:"Background Location Access",id:"background-location-access",level:3},{value:"What is the background location usage indicator?",id:"what-is-the-background-location-usage-indicator",level:4},{value:"When to use the background location usage indicator?",id:"when-to-use-the-background-location-usage-indicator",level:3},{value:"Background location use cases",id:"background-location-use-cases",level:4}],c={toc:d},u="wrapper";function p(e){let{components:t,...i}=e;return(0,o.kt)(u,(0,a.Z)({},c,i,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"features"},"Features"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Custom Event Metadata"),(0,o.kt)("li",{parentName:"ul"},"Enable / Disable Zones"),(0,o.kt)("li",{parentName:"ul"},"Android features",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Foreground Notification"))),(0,o.kt)("li",{parentName:"ul"},"iOS features",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Background Location Access")))),(0,o.kt)("h2",{id:"custom-event-metadata"},"Custom Event Metadata"),(0,o.kt)("p",null,"Custom event metadata is a feature which is available in the Bluedot Point SDK for our customers to set additional event-specific metadata to our location events. For further information refer to ",(0,o.kt)("a",{parentName:"p",href:"/Custom%20Event%20Metadata"},"Custom Event Metadata")),(0,o.kt)("p",null,"It is recommended to set the Custom Event Meta Data before starting GeoTriggering or Tempo."),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"Maximum 20 entries can be set in custom event metadata. If more than 20 entries are set, Bluedot SDK throws an error as: Only 20 CustomEventMetaData fields are allowed.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-dart"},"const metadata = {\n  'hs_orderId': 'Order Id',\n  'hs_Customer Name': 'Customer Name'\n};\n\n\nBluedotPointSdk.instance.setCustomEventMetaData(metadata);\n")),(0,o.kt)("h2",{id:"enable--disable-zones"},"Enable / Disable Zones"),(0,o.kt)("p",null,"An app may optionally disable (and later re-enable) Zones by calling ",(0,o.kt)("inlineCode",{parentName:"p"},"setZoneDisableByApplication"),". For further information refer to Enable or disable Zones documentation (",(0,o.kt)("a",{parentName:"p",href:"/Point%20SDK/Android/Features/Enable%20or%20disable%20zones"},"Android")," | ",(0,o.kt)("a",{parentName:"p",href:"/Point%20SDK/iOS/Features/Enable%20or%20disable%20zones"},"iOS"),")\xa0"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-dart"},'const zoneIdToDisable = "your_zone_id";\nconst disableZone = true;\n\nBluedotPointSdk.instance.setZoneDisableByApplication(zoneIdToDisable, disableZone);\n')),(0,o.kt)("h2",{id:"android-features"},"Android Features"),(0,o.kt)("h3",{id:"foreground-notification"},"Foreground Notification"),(0,o.kt)("p",null,"Given the restrictions on accessing location data from the background, it is recommended that the Geo-triggering service be run as a foreground service, and the Tempo service must be run as a foreground service. For more information refer to ",(0,o.kt)("a",{parentName:"p",href:"/Point%20SDK/Android/Location%20Permission%20&%20Notifications%20Best%20Practices"},"Android \u2013 Location Permission & Notifications Best Practices")),(0,o.kt)("p",null,"The Foreground Notification method (",(0,o.kt)("inlineCode",{parentName:"p"},"androidNotification"),") is included in the ",(0,o.kt)("inlineCode",{parentName:"p"},"GeoTriggeringBuilder")," and the ",(0,o.kt)("inlineCode",{parentName:"p"},"TempoBuilder")," classes. It should be set up before starting any of the Geo-triggering or Tempo services as below."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Geo-triggering")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-dart"},"// GeoTriggering\nString channelId = 'Your channel Id';\nString channelName = 'Your channel Name';\nString androidNotificationTitle = 'Your notification title';\nString androidNotificationContent = 'Your notification content';\nint androidNotificationId = 123; // Will be -1 by default if set to null. BluedotPointSdk.instance.geoTriggeringBuilder()\n   .androidNotification(channelId, channelName, androidNotificationChannel, androidNotificationContent, androidNotificationId)\n   .start().then((value) { \n   //Handle geo triggering started successfully \n   debugPrint('Geo-triggering has been started'); \n}).catchError((error) { \n  //Handle error when start geo-triggering \n  debugPrint('Failed to start geo-triggering. Error $error'); \n});\n")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Tempo")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-dart"},"// Tempo\nString destinationId = 'Your destination Id';\nString channelId = 'Your channel Id';\nString channelName = 'Your channel Name';\nString androidNotificationTitle = 'Your notification title';\nString androidNotificationContent = 'Your notification content';\nint androidNotificationId = 123; // Will be -1 by default if set to null.\n\nBluedotPointSdk.instance\n    .tempoBuilder()\n    .androidNotification(channelId, channelName, androidNotificationTitle,\n    androidNotificationContent, androidNotificationId)\n    .start(destinationId)\n    .then((value) {\n  // Successfully started tempo tracking\n  debugPrint('Tempo has been started successfully');\n}).catchError((error) {\n  // Failed to start tempo tracking, handle error here\n  debugPrint('Failed to start tempo. Error $error');\n});\n")),(0,o.kt)("h2",{id:"ios-features"},"iOS Features"),(0,o.kt)("h3",{id:"background-location-access"},"Background Location Access"),(0,o.kt)("h4",{id:"what-is-the-background-location-usage-indicator"},"What is the background location usage indicator?"),(0,o.kt)("p",null,"The background location usage indicator (Blue Bar) is an iOS feature that allows an app to access location data when the user has selected ",(0,o.kt)("em",{parentName:"p"},"While using the app")," location authorization and the app is in the background."),(0,o.kt)("p",null,"The background location usage indicator will be displayed as a blue pill or bar at the top of the screen \u2013 either behind the clock or across the status bar (the event display changes between iPhone models). This notification lets the user know that an app is accessing location data."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"iOS Blue Bar",src:n(36307).Z,width:"300",height:"229"})),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"If the user has selected the ",(0,o.kt)("em",{parentName:"p"},"Always")," location authorization, the background location usage indicator will not be displayed.")),(0,o.kt)("h3",{id:"when-to-use-the-background-location-usage-indicator"},"When to use the background location usage indicator?"),(0,o.kt)("p",null,"Background location usage indicator should be enabled when usage requires location updates even when the App is running in background and the user has granted the ",(0,o.kt)("em",{parentName:"p"},"While using the app")," location authorization."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Enable background location usage indicator:")," \xa0 \xa0\xa0"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-dart"},"BluedotPointSdk.instance.backgroundLocationAccessForWhileUsing(true);\n")),(0,o.kt)("p",null,"For the background location usage indicator to work, ",(0,o.kt)("inlineCode",{parentName:"p"},"backgroundLocationAccessForWhileUsing")," must be set to ",(0,o.kt)("inlineCode",{parentName:"p"},"true")," while the app is in the foreground if the app has ",(0,o.kt)("em",{parentName:"p"},"While using the app")," location authorization. "),(0,o.kt)("p",null,"The default value of ",(0,o.kt)("inlineCode",{parentName:"p"},"backgroundLocationAccessForWhileUsing")," is ",(0,o.kt)("inlineCode",{parentName:"p"},"false"),", and it can be disabled while the app is either in the foreground or the background."),(0,o.kt)("h4",{id:"background-location-use-cases"},"Background location use cases"),(0,o.kt)("p",null,"It may be beneficial to switch the background location usage indicator on and off during app operation to maximise location data availability during mission-critical flows."),(0,o.kt)("p",null,"For example:"),(0,o.kt)("p",null,"On an app that handles ordering and pickup there may be value in starting Bluedot Geo-triggering on app start without the background location usage indicator enabled in order to power a marketing use case when the user grants Always location authorization or is actively using the app. When the user places an order and there is greater necessity and value in collecting location data to maximise the likelihood the user is detected upon arrival at the collection point, the background location usage indicator should be enabled. Upon completion of the order and collection process, the background location usage indicator should be disabled, removing unauthorized background location data collection and the visible indicator."),(0,o.kt)("p",null,"Example steps to implement:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Start Geo-triggering without background location usage indicator enabled."),(0,o.kt)("li",{parentName:"ol"},"User places an order."),(0,o.kt)("li",{parentName:"ol"},"Enable background location usage indicator."),(0,o.kt)("li",{parentName:"ol"},"User travels to the pickup location."),(0,o.kt)("li",{parentName:"ol"},"Order is completed."),(0,o.kt)("li",{parentName:"ol"},"Disable background location usage indicator.")))}p.isMDXComponent=!0},36307:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/ios-blue-bar-300x229-64e0e4d284048955c668668baf352fe3.jpg"}}]);