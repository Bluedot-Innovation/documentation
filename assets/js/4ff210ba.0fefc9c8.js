"use strict";(self.webpackChunkbluedot_docs=self.webpackChunkbluedot_docs||[]).push([[5250],{3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>h});var n=r(67294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=n.createContext({}),d=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},p=function(e){var t=d(e.components);return n.createElement(l.Provider,{value:t},e.children)},m="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),m=d(r),u=a,h=m["".concat(l,".").concat(u)]||m[u]||c[u]||o;return r?n.createElement(h,i(i({ref:t},p),{},{components:r})):n.createElement(h,i({ref:t},p))}));function h(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[m]="string"==typeof e?e:a,i[1]=s;for(var d=2;d<o;d++)i[d]=r[d];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}u.displayName="MDXCreateElement"},17692:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>c,frontMatter:()=>o,metadata:()=>s,toc:()=>d});var n=r(87462),a=(r(67294),r(3905));const o={},i="Key concepts",s={unversionedId:"APIs/Orders API/Key concepts",id:"APIs/Orders API/Key concepts",title:"Key concepts",description:"To get the most out of the Orders API, it\u2019s important to understand the core ideas behind its design. This section covers the fundamental workflows and error-handling mechanisms that will help you",source:"@site/docs/APIs/Orders API/Key concepts.md",sourceDirName:"APIs/Orders API",slug:"/APIs/Orders API/Key concepts",permalink:"/APIs/Orders API/Key concepts",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"defaultSidebar",previous:{title:"Getting started",permalink:"/APIs/Orders API/Getting started"},next:{title:"Using the Orders API",permalink:"/APIs/Orders API/Using the Orders API"}},l={},d=[{value:"<strong>When to Use the Orders API</strong>",id:"when-to-use-the-orders-api",level:3},{value:"<strong>Order Lifecycle</strong>",id:"order-lifecycle",level:3},{value:"<strong>Event Types</strong>",id:"event-types",level:3},{value:"<strong>Predefined Event Types</strong>",id:"predefined-event-types",level:4},{value:"<strong>Custom Event States</strong>",id:"custom-event-states",level:4},{value:"<strong>Custom Data vs. Hello Screens Fields</strong>",id:"custom-data-vs-hello-screens-fields",level:3},{value:"<strong>1.\xa0<code>hsFields</code></strong>",id:"1hsfields",level:4},{value:"<strong>2.\xa0<code>customEventMetaData</code></strong>",id:"2customeventmetadata",level:4},{value:"<strong>Order ID Behaviour</strong>",id:"order-id-behaviour",level:3},{value:"<strong>Key Considerations:</strong>",id:"key-considerations",level:4}],p={toc:d},m="wrapper";function c(e){let{components:t,...r}=e;return(0,a.kt)(m,(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"key-concepts"},"Key concepts"),(0,a.kt)("p",null,"To get the most out of the Orders API, it\u2019s important to understand the core ideas behind its design. This section covers the fundamental workflows and error-handling mechanisms that will help you\neffectively integrate the API."),(0,a.kt)("h3",{id:"when-to-use-the-orders-api"},(0,a.kt)("strong",{parentName:"h3"},"When to Use the Orders API")),(0,a.kt)("p",null,"The Orders API is ideal in the following scenarios:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Standalone Use:")),(0,a.kt)("p",{parentName:"li"},"  Use the Orders API by itself when you need to manage orders without relying on real-time geolocation or the Point SDK. For example:"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Cancel incomplete orders after 24 hours."),(0,a.kt)("li",{parentName:"ul"},"Update order details (e.g., delivery address or special instructions) directly from a server-side system."),(0,a.kt)("li",{parentName:"ul"},"Listen to ETA updates from third-party delivery partners and use the\xa0",(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"strong"},"updateOrder")),"\xa0event type to reflect these changes in Hello Screens."))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Combined with Point SDK:")),(0,a.kt)("p",{parentName:"li"},"  Use the Orders API alongside the Point SDK to enrich location-based updates with additional order details. For example:"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Register orders with the Orders API, passing the generated\xa0",(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"strong"},"userToken")),"\xa0and order ID as metadata in the Point SDK custom event. This enables automatic updates for ETA and arrival detection in Hello Screens."),(0,a.kt)("li",{parentName:"ul"},"Use the\xa0",(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"strong"},"updateOrder")),"\xa0event type to add or change details, such as when a customer provides additional information (e.g., car color or pickup bay number).")))),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"order-lifecycle"},(0,a.kt)("strong",{parentName:"h3"},"Order Lifecycle")),(0,a.kt)("p",null,"Orders in Hello Screens follow a clear lifecycle that the API reflects:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Order Creation:")),(0,a.kt)("p",{parentName:"li"},"Submit a new order using the\xa0",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"Create Order")),"\xa0endpoint. This sets the order's initial state.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Order Updates:")),(0,a.kt)("p",{parentName:"li"},"Modify an existing order\u2019s details (e.g., status, delivery information, customer details) using the\xa0",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"updateOrder")),"\xa0event type.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Order Cancellation:")),(0,a.kt)("p",{parentName:"li"},"Cancel orders when necessary using the\xa0",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"cancelled")),"\xa0event type."))),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"event-types"},(0,a.kt)("strong",{parentName:"h3"},"Event Types")),(0,a.kt)("p",null,"The\xa0",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"eventType")),"\xa0field in the Orders API indicates the action associated with an order at a specific point in its lifecycle. This field helps Hello Screens understand and reflect the current state or action being performed, ensuring accurate tracking and visibility."),(0,a.kt)("h4",{id:"predefined-event-types"},(0,a.kt)("strong",{parentName:"h4"},"Predefined Event Types")),(0,a.kt)("p",null,"The Orders API supports the following predefined event types:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"strong"},"registration"),":"),"\xa0Used when an order is first registered in Hello Screens."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"updateOrder"),(0,a.kt)("strong",{parentName:"li"},":")," Used to update the order details without changing the order status."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"strong"},"onTheWay"),":"),"\xa0Indicates the customer is on their way to the destination."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"strong"},"partnerOnTheWay"),":"),"\xa0Used when a delivery partner or staff member is en route to fulfil the order."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"strong"},"arrival"),":"),"\xa0Marks the arrival of the customer or delivery partner at the destination."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"strong"},"fulfilled"),":"),"\xa0Indicates that the order has been successfully completed."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"strong"},"cancelled"),":"),"\xa0Indicates that the order has been cancelled.")),(0,a.kt)("h4",{id:"custom-event-states"},(0,a.kt)("strong",{parentName:"h4"},"Custom Event States")),(0,a.kt)("p",null,"In addition to the predefined\xa0",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"eventType")),"\xa0values, you can define\xa0",(0,a.kt)("strong",{parentName:"p"},"custom states"),"\xa0to align with your specific operational workflows. Custom states allow you to tailor the order lifecycle to your business needs."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Example:")),(0,a.kt)("p",null,"A business may add custom states like:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"strong"},'"preparingOrder"')),": To reflect when an order is being prepared."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"strong"},'"readyForPickup"')),": To notify staff when an order is ready for collection.")),(0,a.kt)("p",null,"For more details on implementing custom order states, refer to the\xa0",(0,a.kt)("a",{parentName:"p",href:"https://docs.bluedot.io/Hello%20Screens/Custom%20Order%20States"},"Hello\xa0Screens\xa0Custom\xa0Order\xa0States\xa0documentation"),"."),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"custom-data-vs-hello-screens-fields"},(0,a.kt)("strong",{parentName:"h3"},"Custom Data vs. Hello Screens Fields")),(0,a.kt)("p",null,"The Orders API supports two ways to include additional information in an event payload:\xa0",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"customEventMetaData")),"\xa0and\xa0",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"hsFields")),". While both allow you to pass detailed order information, they serve distinct purposes depending on whether the data is for backend processing or for sharing with the store staff."),(0,a.kt)("h4",{id:"1hsfields"},(0,a.kt)("strong",{parentName:"h4"},"1.\xa0",(0,a.kt)("inlineCode",{parentName:"strong"},"hsFields"))),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Purpose:")),(0,a.kt)("p",{parentName:"li"},"  Use\xa0",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"hsFields")),"\xa0to provide details that need to be displayed to store staff through Hello Screens. This information is typically operational and helps the team process the order efficiently."),(0,a.kt)("p",{parentName:"li"},"  These fields are visible in the\xa0",(0,a.kt)("strong",{parentName:"p"},"order modal"),"\xa0or\xa0",(0,a.kt)("strong",{parentName:"p"},"order details"),"\xa0screens used by the store.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Example Use Cases:")),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Displaying a customer's car model, color, and plate number for curbside pickup."),(0,a.kt)("li",{parentName:"ul"},"Showing the parking bay number where a customer is waiting."),(0,a.kt)("li",{parentName:"ul"},"Indicating a customer\u2019s mobile number for direct communication.")))),(0,a.kt)("h4",{id:"2customeventmetadata"},(0,a.kt)("strong",{parentName:"h4"},"2.\xa0",(0,a.kt)("inlineCode",{parentName:"strong"},"customEventMetaData"))),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Purpose:")),(0,a.kt)("p",{parentName:"li"},"  Use\xa0",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"customEventMetaData")),"\xa0to include information that is important for managing, tracking, or analysing the order but does not need to be visible to store staff or displayed in Hello Screens."),(0,a.kt)("p",{parentName:"li"},"  The list of custom data fields ",(0,a.kt)("strong",{parentName:"p"},"won't")," be included to the API responses but will be sent via ",(0,a.kt)("a",{parentName:"p",href:"https://docs.bluedot.io/Webhooks/Hello-order"},"Hello Order Webhooks"),". This data remains backend-focused and is primarily for use in your internal systems or analytics tools.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Example Use Cases:")),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Tracking partner delivery IDs for system integrations."),(0,a.kt)("li",{parentName:"ul"},"Including an internal reference ID for analytics purposes.")))),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"order-id-behaviour"},(0,a.kt)("strong",{parentName:"h3"},"Order ID Behaviour")),(0,a.kt)("p",null,"Order IDs are essential part of managing orders with Orders API. While they\u2019re typically tied to an order for a 24-hour period, they should be unique for each combination of ",(0,a.kt)("inlineCode",{parentName:"p"},"destinationId"),"(store) and ",(0,a.kt)("inlineCode",{parentName:"p"},"projectId"),". The API also provides flexibility to overwrite existing orders if needed."),(0,a.kt)("h4",{id:"key-considerations"},(0,a.kt)("strong",{parentName:"h4"},"Key Considerations:")),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("strong",{parentName:"li"},"24 Hours Behaviour:"),"\xa0 By default, an ",(0,a.kt)("inlineCode",{parentName:"li"},"orderId")," can\u2019t be reused or registered again within 24 hours for the same store and project. The countdown resets each time an event is recorded for the order (e.g., an update or status change)."),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("strong",{parentName:"li"},"Updating Orders:"),"\xa0If the details of an order change (e.g., delivery address or items), use the\xa0",(0,a.kt)("inlineCode",{parentName:"li"},"updateOrder"),"\xa0event Type to modify the existing order."),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("strong",{parentName:"li"},"Overwriting Orders:"),"\xa0If you need to reuse an existing ",(0,a.kt)("inlineCode",{parentName:"li"},"orderId")," within the 24-hour period, you can set the ",(0,a.kt)("inlineCode",{parentName:"li"},"forceOverwrite")," property to ",(0,a.kt)("inlineCode",{parentName:"li"},"true")," when submitting a new order. This replaces the current order associated with the same ",(0,a.kt)("inlineCode",{parentName:"li"},"orderId"),".")),(0,a.kt)("p",null,"While this can be helpful in certain situations, we recommend using it only when necessary. Overwriting orders too frequently impacts order tracking data and analytics consistency. Use a unique ",(0,a.kt)("inlineCode",{parentName:"p"},"orderId")," for each store and project combo whenever possible."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Error Example:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "errorType": "ValidationError",\n    "errorMessages": {\n        "errorDescription": "Order already exists with that orderId in the target destination. Either use PUT to update the order or set forceOverwrite to true to overwrite the existing order with a new one."\n    }\n}\n')))}c.isMDXComponent=!0}}]);