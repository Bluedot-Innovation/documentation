"use strict";(self.webpackChunkbluedot_docs=self.webpackChunkbluedot_docs||[]).push([[5467],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>g});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var d=a.createContext({}),s=function(e){var t=a.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},p=function(e){var t=s(e.components);return a.createElement(d.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,d=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=s(n),c=i,g=u["".concat(d,".").concat(c)]||u[c]||m[c]||o;return n?a.createElement(g,r(r({ref:t},p),{},{components:n})):a.createElement(g,r({ref:t},p))}));function g(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,r=new Array(o);r[0]=c;var l={};for(var d in t)hasOwnProperty.call(t,d)&&(l[d]=t[d]);l.originalType=e,l[u]="string"==typeof e?e:i,r[1]=l;for(var s=2;s<o;s++)r[s]=n[s];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},43427:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>r,default:()=>m,frontMatter:()=>o,metadata:()=>l,toc:()=>s});var a=n(87462),i=(n(67294),n(3905));const o={},r="Migration Guide to 2.0",l={unversionedId:"Point SDK/Flutter/Migration Guides/Migration guide to 2.0",id:"Point SDK/Flutter/Migration Guides/Migration guide to 2.0",title:"Migration Guide to 2.0",description:"The Rezolve Flutter wrapper version 2.0.0 is a major update of our APIs.",source:"@site/docs/Point SDK/Flutter/Migration Guides/Migration guide to 2.0.md",sourceDirName:"Point SDK/Flutter/Migration Guides",slug:"/Point SDK/Flutter/Migration Guides/Migration guide to 2.0",permalink:"/Point SDK/Flutter/Migration Guides/Migration guide to 2.0",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"defaultSidebar",previous:{title:"Events List",permalink:"/Point SDK/Flutter/Events List"},next:{title:"Overview",permalink:"/Point SDK/Xamarin/Overview"}},d={},s=[{value:"Updated GeoTriggering Events",id:"updated-geotriggering-events",level:2},{value:"New Tempo Event",id:"new-tempo-event",level:2},{value:"New API to getCustomEventMetaData",id:"new-api-to-getcustomeventmetadata",level:2},{value:"Example to fetch list of Zone Info\u2019s:",id:"example-to-fetch-list-of-zone-infos",level:2},{value:"Android Permissions change",id:"android-permissions-change",level:2},{value:"iOS App Restart Notification feature",id:"ios-app-restart-notification-feature",level:3}],p={toc:s},u="wrapper";function m(e){let{components:t,...n}=e;return(0,i.kt)(u,(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"migration-guide-to-20"},"Migration Guide to 2.0"),(0,i.kt)("p",null,"The Rezolve Flutter wrapper version 2.0.0 is a major update of our APIs. "),(0,i.kt)("p",null,"Please note that the following changes are also included in this major update:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"A new payload returned as part of Zone Entry and Exit Callbacks, enhancing the information available upon entering or exiting a zone."),(0,i.kt)("li",{parentName:"ul"},"The introduction of a new Tempo Callback that provides the user's ETA updates at runtime, allowing for real-time updates."),(0,i.kt)("li",{parentName:"ul"},"The Rule Download callback has been modified, and it no longer returns the list of ZoneInfo\u2019s. Instead, this information can now be accessed from an existing API to fetch the ",(0,i.kt)("inlineCode",{parentName:"li"},"ZoneInfo")," list."),(0,i.kt)("li",{parentName:"ul"},"Destinations have been added as a part of ",(0,i.kt)("inlineCode",{parentName:"li"},"ZoneInfo"),", providing additional context."),(0,i.kt)("li",{parentName:"ul"},"A new API has been developed to fetch ",(0,i.kt)("inlineCode",{parentName:"li"},"CustomEventMetaData")," set for a Point SDK session."),(0,i.kt)("li",{parentName:"ul"},"For Android users, permissions to use Foreground Service or to run Rezolve service in the Background must now be declared from the App."),(0,i.kt)("li",{parentName:"ul"},"For iOS users, App restart notification feature support is added.")),(0,i.kt)("h2",{id:"updated-geotriggering-events"},"Updated GeoTriggering Events"),(0,i.kt)("p",null,"The updated geo-triggering events now provide detailed information about zone entry, exit, and updates, including properties such as notification type, app info, and zone details."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"th"},"Name")),(0,i.kt)("th",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"th"},"Description")),(0,i.kt)("th",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"th"},"Event payload")))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"didEnterZone")),(0,i.kt)("td",{parentName:"tr",align:null},"Device enters a Zone"),(0,i.kt)("td",{parentName:"tr",align:null},"Object with the following properties:",(0,i.kt)("ul",null,(0,i.kt)("li",null,(0,i.kt)("inlineCode",{parentName:"td"},"notificationType"),": Entry"),(0,i.kt)("li",null,(0,i.kt)("inlineCode",{parentName:"td"},"appInfo"),": App details"),(0,i.kt)("li",null,(0,i.kt)("inlineCode",{parentName:"td"},"triggerEvents"),": Entry Event details with location Info and crossedFences"),(0,i.kt)("li",null,(0,i.kt)("inlineCode",{parentName:"td"},"zoneInfo"),": Zone information with Id, name and ",(0,i.kt)("inlineCode",{parentName:"td"},"customData")),(0,i.kt)("li",null,(0,i.kt)("inlineCode",{parentName:"td"},"installRef"),": Unique ID assigned to the device"),(0,i.kt)("li",null,(0,i.kt)("inlineCode",{parentName:"td"},"projectId"),": ProjectId of the Project used from Canvas"),(0,i.kt)("li",null,(0,i.kt)("inlineCode",{parentName:"td"},"deviceInfo"),": Device Details"),(0,i.kt)("li",null,(0,i.kt)("inlineCode",{parentName:"td"},"triggerChainId"),": unique ID assigned to a particular Entry event")))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"didExitZone")),(0,i.kt)("td",{parentName:"tr",align:null},"Device exits a Zone"),(0,i.kt)("td",{parentName:"tr",align:null},"Object with the following properties:",(0,i.kt)("ul",null,(0,i.kt)("li",null,(0,i.kt)("inlineCode",{parentName:"td"},"notificationType"),": Exit"),(0,i.kt)("li",null,(0,i.kt)("inlineCode",{parentName:"td"},"appInfo"),": App details"),(0,i.kt)("li",null,(0,i.kt)("inlineCode",{parentName:"td"},"triggerEvents"),": Exit Event details with location Info and corresponding entry event"),(0,i.kt)("li",null,(0,i.kt)("inlineCode",{parentName:"td"},"zoneInfo"),": Zone information with Id, name and ",(0,i.kt)("inlineCode",{parentName:"td"},"customData")),(0,i.kt)("li",null,(0,i.kt)("inlineCode",{parentName:"td"},"installRef"),": Unique ID assigned to the device"),(0,i.kt)("li",null,(0,i.kt)("inlineCode",{parentName:"td"},"projectId"),": ProjectId of the Project used from Canvas"),(0,i.kt)("li",null,(0,i.kt)("inlineCode",{parentName:"td"},"deviceInfo"),": Device Details"),(0,i.kt)("li",null,(0,i.kt)("inlineCode",{parentName:"td"},"triggerChainId"),": ID same as the corresponding Entry event")))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"didUpdateZoneInfo")),(0,i.kt)("td",{parentName:"tr",align:null},"Update from SDK about Zone\u2019s download"),(0,i.kt)("td",{parentName:"tr",align:null},"List of Zones downloaded can be fetched from ",(0,i.kt)("inlineCode",{parentName:"td"},"BluedotPointSdk.getZonesAndFences()"))))),(0,i.kt)("h2",{id:"new-tempo-event"},"New Tempo Event"),(0,i.kt)("p",null,"A new Tempo Callback provides real-time ETA updates during the user's journey, offering details about estimated arrival times and destination information."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"th"},"Name")),(0,i.kt)("th",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"th"},"Description")),(0,i.kt)("th",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"th"},"Event payload")))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"tempoTrackingDidUpdate")),(0,i.kt)("td",{parentName:"tr",align:null},"ETA update for every Tempo event sent to backend"),(0,i.kt)("td",{parentName:"tr",align:null},"Object with the following properties:",(0,i.kt)("ul",null,(0,i.kt)("li",null,(0,i.kt)("inlineCode",{parentName:"td"},"eta"),": Estimated time of arrival to a particular store"),(0,i.kt)("li",null,(0,i.kt)("inlineCode",{parentName:"td"},"etaDirection"),": lessThan/greaterThan from the ",(0,i.kt)("inlineCode",{parentName:"td"},"eta")," value"),(0,i.kt)("li",null,(0,i.kt)("inlineCode",{parentName:"td"},"destination"),": Destination details of the store like address, location, and ",(0,i.kt)("inlineCode",{parentName:"td"},"destinationId")),(0,i.kt)("li",null,(0,i.kt)("inlineCode",{parentName:"td"},"triggerChainId"),": unique Id per Tempo session")))))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-dart"},"const tempoEventChannel = MethodChannel(BluedotPointSdk.tempo);\ntempoEventChannel.setMethodCallHandler((MethodCall call) async {\n  var args = call.arguments;\n  var tempoAlertTitle = 'Tempo Events';\n  switch (call.method) {\n    case TempoEvents.tempoTrackingDidUpdate:\n      // Handler Tempo ETA updates\n      break;\n    default:\n      break;\n  }\n});\n")),(0,i.kt)("h2",{id:"new-api-to-getcustomeventmetadata"},"New API to getCustomEventMetaData"),(0,i.kt)("p",null,"A new API allows you to fetch custom event metadata set for a Rezolve session. For more details on Custom Event Metadata, please refer to the documentation ",(0,i.kt)("a",{parentName:"p",href:"/Custom%20Data"},"here"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-dart"},"BluedotPointSdk.getCustomEventMetaData().then((metadata) => {  \n   const message = `CustomEventMetaData: ${JSON.stringify(metadata)}`; \n});\n")),(0,i.kt)("h2",{id:"example-to-fetch-list-of-zone-infos"},"Example to fetch list of Zone Info\u2019s:"),(0,i.kt)("p",null,"To retrieve the updated list of Zone Information, you can use the following example. Note that the ",(0,i.kt)("inlineCode",{parentName:"p"},"zoneInfoUpdate")," callback no longer directly returns ",(0,i.kt)("inlineCode",{parentName:"p"},"zoneInfos"),". Instead, you should query the list of zones directly from the SDK using the ",(0,i.kt)("inlineCode",{parentName:"p"},"getZonesAndFences")," method."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-dart"},'BluedotPointSdk.on("zoneInfoUpdate", () => { \n // zoneInfoUpdate callback no longer returns zoneInfos, \n // query it directly from the SDK \n\n  BluedotPointSdk.getZonesAndFences().then((zoneInfos) => {  \n       if (zoneInfos != null) {      \n         const message = `Did Update ZoneInfo ${JSON.stringify(zoneInfos)}`;   \n         console.log(JSON.stringify(zoneInfos))   \n       }\n   });\n});   \n')),(0,i.kt)("h2",{id:"android-permissions-change"},"Android Permissions change"),(0,i.kt)("p",null,"For Android devices, the Rezolve service no longer declares Foreground and Background usage permissions in its Manifest. Therefore, we suggest adding the Foreground or Background usage permissions in your App's Manifest. For more details, refer below link ",(0,i.kt)("a",{parentName:"p",href:"https://docs.bluedot.io/Point%20SDK/Android/Migration%20Guides/Migration%20guide%20to%20SDK%2016%20for%20Android#update-the-apps-location-permissions-in-the-manifest"},"Migration Guide to Android Point SDK 16")),(0,i.kt)("h3",{id:"ios-app-restart-notification-feature"},"iOS App Restart Notification feature"),(0,i.kt)("p",null,"More details about this feature can be found here: (",(0,i.kt)("a",{parentName:"p",href:"https://docs.bluedot.io/Point%20SDK/iOS/Features/App%20restart%20notification"},"App restart notification"),")"),(0,i.kt)("p",null,"To use this feature in Flutter plugin, while starting the Geo-Trigger provide Restart Notification title and text as below:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-dart"},"String iosAppRestartNotificationTitle ='Restart Rezolve Service';\nString iosAppRestartNotificationButtonText ='Restart';\n\nBluedotPointSdk.instance.geoTriggeringBuilder()\n   .iosNotification(iosAppRestartNotificationTitle,iosAppRestartNotificationButtonText)\n   .start()\n")))}m.isMDXComponent=!0}}]);